(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1426:function(e,t,n){},1430:function(e,t,n){"use strict";n.r(t);var a,i,r,s,o,c,u,l,h,d,f,m,p,g,b,y,v,O=n(0),w=n.n(O),j=n(142),k=n(7),S=n.n(k),E=n(21),x=(n(587),n(104)),C=n(10),T=n(9),P=n(14),D=n(8),A=(n(535),n(6));!function(e){e.Action="ACTION",e.Waiting="WAITING"}(a||(a={})),function(e){e.Splashscreen="SPLASHSCREEN",e.Homescreen="HOMESCREEN",e.Minigame="MINIGAME",e.PostMinigame="POSTMINIGAME",e.Deathscreen="DEATHSCREEN"}(i||(i={})),function(e){e.SceneInit="SCENE_INIT",e.SceneCreated="SCENE_CREATED"}(r||(r={})),function(e){e.KeyboardPasswordButtonClicked="KEYBOARD_PASSWORD_BUTTON_CLICKED",e.SpamDestroyed="SPAM_DESTROYED",e.RemainingTimeOver="REMANING_TIME_OVER",e.SpamClicked="SPAM_CLICKED",e.SandwichPicked="SANDWICH_PICKED"}(s||(s={})),function(e){e.Light="LIGHT",e.Dark="DARK"}(o||(o={}));var M,R,L,z,I,N,G,B,_,F,H,W,J,K,U,V,q,Y,Q,$,X,Z,ee,te,ne,ae,ie,re,se,oe,ce,ue,le=new(c=function(){function e(){Object(T.a)(this,e),Object(C.a)(this,"debug",u,this),Object(C.a)(this,"debugToolbar",l,this),Object(C.a)(this,"theme",h,this),Object(C.a)(this,"showDebugToolbar",d,this),Object(C.a)(this,"hideDebugToolbar",f,this),Object(C.a)(this,"toggleDebugToolbar",m,this),Object(C.a)(this,"toggleDebug",p,this),Object(C.a)(this,"showDebug",g,this),Object(C.a)(this,"hideDebug",b,this),Object(C.a)(this,"setTheme",y,this),Object(C.a)(this,"toggleTheme",v,this)}return Object(P.a)(e,[{key:"isDarkTheme",get:function(){return this.theme===o.Dark}},{key:"shortThemeName",get:function(){return this.theme[0].toUpperCase()}},{key:"otherThemeName",get:function(){return this.theme===o.Dark?o.Light:o.Dark}}]),e}(),u=Object(D.a)(c.prototype,"debug",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=Object(D.a)(c.prototype,"debugToolbar",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),h=Object(D.a)(c.prototype,"theme",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o.Light}}),d=Object(D.a)(c.prototype,"showDebugToolbar",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.debugToolbar=!0,e.showDebug()}}}),f=Object(D.a)(c.prototype,"hideDebugToolbar",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.debugToolbar=!1,e.hideDebug()}}}),m=Object(D.a)(c.prototype,"toggleDebugToolbar",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.debugToolbar=!e.debugToolbar,e.debug=e.debugToolbar}}}),p=Object(D.a)(c.prototype,"toggleDebug",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.debug=!e.debug}}}),g=Object(D.a)(c.prototype,"showDebug",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.debug=!0}}}),b=Object(D.a)(c.prototype,"hideDebug",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.debug=!1}}}),y=Object(D.a)(c.prototype,"setTheme",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.theme=t}}}),v=Object(D.a)(c.prototype,"toggleTheme",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.theme=e.theme===o.Dark?o.Light:o.Dark}}}),Object(D.a)(c.prototype,"isDarkTheme",[A.c],Object.getOwnPropertyDescriptor(c.prototype,"isDarkTheme"),c.prototype),Object(D.a)(c.prototype,"shortThemeName",[A.c],Object.getOwnPropertyDescriptor(c.prototype,"shortThemeName"),c.prototype),Object(D.a)(c.prototype,"otherThemeName",[A.c],Object.getOwnPropertyDescriptor(c.prototype,"otherThemeName"),c.prototype),c),he=function(e){var t;t=function(t){e.forEach(function(e){e.keys.some(function(e){return e.toLowerCase()===t.key.toLowerCase()})&&e.action()})},Object(O.useEffect)(function(){return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}},[])},de=function(e){var t=le.isDarkTheme;return!e&&t?"is-dark":!t&&e&&e===o.Dark?"is-dark":t&&e&&e===o.Dark?"is-dark":(e&&o.Light,null)},fe=n(16),me=n(80),pe=n(18),ge=n(17),be=n(20),ye=n(5),ve=n(30),Oe=n(61),we="_MINIGAME",je={Boot:"BOOT",Splashscreen:"SPLASHSCREEN",Homescreen:"HOMESCREEN",SandwichGame:"SANDWICH"+we,SpamGame:"SPAM"+we,PasswordGame:"PASSWORD"+we,PostMinigameScene:"POSTMINIGAME",Deathscreen:"DEATHSCREEN"},ke=(M={},Object(Oe.a)(M,a.Action,.9),Object(Oe.a)(M,a.Waiting,.1),M),Se=function(){function e(t,n){Object(T.a)(this,e),this.scene=t,this.animationData=n,this.createGameAnimations()}return Object(P.a)(e,[{key:"createGameAnimations",value:function(){var e=!0,t=!1,n=void 0;try{for(var a,i=this.animationData.anims[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var r=a.value,s=void 0,o=[];if("generateFrameNames"===r.frames.typeOfGeneration)s=this.scene.anims.generateFrameNames(r.frames.key,{prefix:r.frames.prefix||"",start:r.frames.start||0,end:r.frames.end||0,suffix:r.frames.suffix||"",zeroPad:r.frames.zeroPad||0,frames:r.frames.frames||!1});else if("generateFrameNumbers"===r.frames.typeOfGeneration)s=this.scene.anims.generateFrameNumbers(r.frames.key,{start:r.frames.start||0,end:r.frames.end||-1,first:r.frames.first||!1,frames:r.frames.frames||!1});else{var c=!0,u=!1,l=void 0;try{for(var h,d=r.frames[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value,m={key:f.key,frame:f.frame,duration:f.duration||0,visible:f.visible};o.push(m)}}catch(p){u=!0,l=p}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}}this.scene.anims.create({key:r.key,frames:s||o,defaultTextureKey:r.defaultTextureKey||null,frameRate:r.frameRate||24,duration:r.duration,skipMissedFrames:r.skipMissedFrames||!0,delay:r.delay||0,repeat:r.repeat||0,repeatDelay:r.repeatDelay||0,yoyo:r.yoyo||!1,showOnStart:r.showOnStart||!1,hideOnComplete:r.hideOnComplete||!1})}}catch(p){t=!0,n=p}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}}]),e}(),Ee=function(e){function t(){return Object(T.a)(this,t),Object(ge.a)(this,Object(ye.a)(t).apply(this,arguments))}return Object(be.a)(t,e),Object(P.a)(t,[{key:"init",value:function(){console.log("init (".concat(this.scene.key,")")),this.game.scene.dump(),pt.emit(r.SceneInit,this)}},{key:"preload",value:function(){var e=this;console.log("preload (".concat(this.scene.key,")")),this.load.on("complete",function(){e.animationHelper=new Se(e,e.cache.json.get("animations"))})}},{key:"create",value:function(){console.log("create (".concat(this.scene.key,")")),bt.resizeCamera(window.innerWidth,window.innerHeight),bt.changeBackgroundColor(yt.config.backgroundColor),pt.emit(r.SceneCreated,this),this.initListeners()}},{key:"update",value:function(e,t){console.log("update (".concat(this.scene.key,")"))}},{key:"initListeners",value:function(){}}]),t}(Phaser.Scene),xe=function(e){function t(){var e;return Object(T.a)(this,t),(e=Object(ge.a)(this,Object(ye.a)(t).call(this,{key:je.Boot}))).create=Object(E.a)(S.a.mark(function n(){return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Object(ve.a)(Object(ye.a)(t.prototype),"create",Object(pe.a)(e)).call(Object(pe.a)(e)),yt.stopLoading(),yt.config.dev&&e.startGame();case 3:case"end":return n.stop()}},n,this)})),e.startGame=function(){yt.startGame(),bt.audio.playBg();var t=yt.config.fade;yt.changeConfig({fade:!1}),bt.loadNextMinigame(),yt.changeConfig({fade:t}),e.scene.stop(e.scene.key)},e}return Object(be.a)(t,e),Object(P.a)(t,[{key:"preload",value:function(){Object(ve.a)(Object(ye.a)(t.prototype),"preload",this).call(this),this.load.setBaseURL("/harder-faster-looser"),this.load.pack("preload","/static/assets/sprites/pack.json","preload")}},{key:"update",value:function(e,t){}}]),t}(Ee),Ce=function(e){function t(){return Object(T.a)(this,t),Object(ge.a)(this,Object(ye.a)(t).call(this,{key:je.Splashscreen}))}return Object(be.a)(t,e),Object(P.a)(t,[{key:"create",value:function(){Object(ve.a)(Object(ye.a)(t.prototype),"create",this).call(this);var e=this.add.graphics();e.fillStyle(16724736,1),e.fillRect(100,200,600,300),e.fillRect(100,100,100,100),this.add.text(120,110,this.scene.key)}},{key:"update",value:function(e,t){}}]),t}(Ee),Te=function(e){function t(){return Object(T.a)(this,t),Object(ge.a)(this,Object(ye.a)(t).call(this,{key:je.Homescreen}))}return Object(be.a)(t,e),Object(P.a)(t,[{key:"create",value:function(){Object(ve.a)(Object(ye.a)(t.prototype),"create",this).call(this);var e=this.add.graphics();e.fillStyle(16750899,1),e.fillRect(100,200,600,300),e.fillRect(200,100,100,100),this.add.text(220,110,this.scene.key)}},{key:"update",value:function(e,t){}}]),t}(Ee),Pe=function(e){return new Promise(function(t){return setTimeout(t,e)})},De=function(e,t){return new Promise(function(n){return e.addEvent({callback:n,delay:t})})},Ae=function(e,t){return Math.random()*(t-e)+e},Me=function(e){return new Promise(function(t){return e.eventCallback("onComplete",Object(E.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}},e,this)})))})},Re=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},Le=function(e){if("object"===typeof e){var t=e.r,n=e.g,a=e.b,i=e.a;return"rgba(".concat(t,",").concat(n,",").concat(a,",").concat(i,")")}return String(e)},ze=function(e){return Math.random().toString(36).substring(e)},Ie=function(e){function t(e){var n;return Object(T.a)(this,t),(n=Object(ge.a)(this,Object(ye.a)(t).call(this,e.scene,e.x,e.y,e.children))).createSpamContent=function(e){var t=n.scene.add.sprite(0,0,e).setOrigin(0,0),a=t.anims.animationManager.get(n.texture);if(a){var i=[a.frames[0].frame.width,a.frames[0].frame.height],r=i[0],o=i[1];t.width=r,t.height=o}return t.setScale(1/yt.ratioResolution,1/yt.ratioResolution),t.setInteractive(),t.input.hitArea.setSize(t.width,t.height),t.on("pointerdown",function(){pt.emit(s.SpamClicked,Object(pe.a)(Object(pe.a)(n))),console.log("EMITED "+s.SpamClicked)}),t},n.createCloseIcon=function(){var e=n.spamContent.width/yt.ratioResolution,t=n.scene.add.sprite(e,0,"close").setOrigin(1,0).setScale(1/yt.ratioResolution,1/yt.ratioResolution);return t.setInteractive(),t.on("pointerdown",function(){pt.emit(s.SpamDestroyed,Object(pe.a)(Object(pe.a)(n))),console.log("EMITED "+s.SpamDestroyed),n.destroy(!0)}),t.on("pointerover",function(){t.setTexture("close_active")}),t.on("pointerout",function(){t.setTexture("close")}),t},n.texture=e.texture,n.spamContent=n.createSpamContent(e.texture),n.add(n.spamContent),n.closeIcon=n.createCloseIcon(),n.add(n.closeIcon),n.x=Ae(0,window.innerWidth-n.spamContent.width/yt.ratioResolution),n.y=Ae(80,window.innerHeight-n.spamContent.height/yt.ratioResolution),e.scene.add.existing(Object(pe.a)(Object(pe.a)(n))),n}return Object(be.a)(t,e),Object(P.a)(t,[{key:"isAnimated",get:function(){return!!(this.spamContent&&this.spamContent.anims&&this.spamContent.anims.animationManager.get(this.texture))}}]),Object(P.a)(t,[{key:"update",value:function(){this.isAnimated&&this.spamContent.anims.play(this.texture,!0)}}]),t}(Phaser.GameObjects.Container),Ne=n(188),Ge=n(577),Be=function(e){function t(e){var n,a;(Object(T.a)(this,t),e&&e.length>0)?n=Object(ge.a)(this,(a=Object(ye.a)(t)).call.apply(a,[this].concat(Object(Ne.a)(e)))):n=Object(ge.a)(this,Object(ye.a)(t).call(this,0));return Object(ge.a)(n)}return Object(be.a)(t,e),Object(P.a)(t,[{key:"random",value:function(){return this[Math.floor(Math.random()*this.length)]}},{key:"has",value:function(e){return void 0!==this.find(function(t){return t===e})}},{key:"remove",value:function(e){var t=this.indexOf(e);return this.splice(t,1),this.length}},{key:"clear",value:function(){this.length=0}},{key:"first",value:function(){return this[0]}},{key:"last",value:function(){return this[this.length-1]}}]),t}(Object(Ge.a)(Array)),_e=function(e){function t(){return Object(T.a)(this,t),Object(ge.a)(this,Object(ye.a)(t).apply(this,arguments))}return Object(be.a)(t,e),Object(P.a)(t,[{key:"onSuccess",value:function(){console.log("you won"),bt.loadPostMinigame()}},{key:"onFailure",value:function(){console.log("you fail"),bt.looseLife(),bt.loadPostMinigame()}},{key:"initListeners",value:function(){Object(ve.a)(Object(ye.a)(t.prototype),"initListeners",this).call(this),pt.on(s.RemainingTimeOver,this.onFailure)}}]),t}(Ee),Fe=function(e){function t(){var e;return Object(T.a)(this,t),(e=Object(ge.a)(this,Object(ye.a)(t).call(this,{key:je.SpamGame}))).spams=new Be,e}return Object(be.a)(t,e),Object(P.a)(t,[{key:"create",value:function(){Object(ve.a)(Object(ye.a)(t.prototype),"create",this).call(this),this.spams=new Be,this.input.setGlobalTopOnly(!0);for(var e=0;e<10;e++)this.spams.push(this.createSpam())}},{key:"update",value:function(e,t){this.spams.forEach(function(e){return e.update()})}},{key:"initListeners",value:function(){var e=this;Object(ve.a)(Object(ye.a)(t.prototype),"initListeners",this).call(this),pt.on(s.SpamDestroyed,function(t){bt.audio.playSfx("explosion"),e.spams.remove(t),0===e.spams.length&&e.onSuccess()}),pt.on(s.SpamClicked,function(t){bt.audio.playSfx("beep",{detune:Ae(-100,100)});for(var n=0;n<Ae(1,4);n++)e.spams.push(e.createSpam())})}},{key:"createSpam",value:function(){var e=new Be(["sexyAnimation","soldAnimation","pizzaAnimation","magicBottleAnimation","musclesAnimation","playAnimation","toothAnimation","hairAnimation","gamblingAnimation","yoAnimation"]);return new Ie({scene:this,x:0,y:0,texture:e.random()})}}]),t}(_e),He="tada",We=function(e){function t(){var e;return Object(T.a)(this,t),(e=Object(ge.a)(this,Object(ye.a)(t).call(this,{key:je.SandwichGame}))).skies=[],e.buildings=[],e.landscapes=[],e.streetLights=[],e.grounds=[],e.currentFrame=0,e.isControlsEnabled=!0,e.createPlayer=function(t){var n=e.add.sprite(50,Number(e.game.config.height)-e.grounds[0].height/yt.ratioResolution,t).setOrigin(0,1),a=n.anims.animationManager.get(e.playerTexture);if(a){var i=[a.frames[0].frame.width,a.frames[0].frame.height],r=i[0],s=i[1];n.width=r,n.height=s}return n.setOrigin(0,1).setScale(1/yt.ratioResolution),n},e.createSandwich=function(t){var n=e.add.sprite(e.grounds[0].x+e.grounds[0].width/yt.ratioResolution-200,Number(e.game.config.height)-e.grounds[0].height/yt.ratioResolution,t).setOrigin(1,1).setScale(1/yt.ratioResolution),a=n.anims.animationManager.get(e.sandwichTexture);if(a){var i=[a.frames[0].frame.width,a.frames[0].frame.height],r=i[0],s=i[1];n.width=r,n.height=s}return n},e.playWinAnimation=Object(E.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bt.audio.playSfx(He,{volume:.2,delay:.3}),t.abrupt("return",new Promise(function(t){e.player.anims.play(e.playerWinTexture,!0,0).on("animationcomplete",Object(E.a)(S.a.mark(function n(){return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,De(e.time,500);case 2:e.onSuccess(),t();case 4:case"end":return n.stop()}},n,this)})))}));case 2:case"end":return t.stop()}},t,this)})),e.playerTexture="tokiRunAnimation",e.playerWinTexture="tokiWinAnimation",e.sandwichTexture="sandwichFlyingAnimation",e}return Object(be.a)(t,e),Object(P.a)(t,[{key:"create",value:function(){Object(ve.a)(Object(ye.a)(t.prototype),"create",this).call(this),this.resetClassVariables(),this.initBackground(),this.createControls()}},{key:"update",value:function(e,t){var n=this;this.skies.forEach(function(e){e.x-=.15}),Array.from([this.skies,this.buildings,this.landscapes,this.streetLights,this.grounds]).forEach(function(e){e[e.length-1].x+e[e.length-1].width/yt.ratioResolution<n.game.config.width&&(e===n.skies?n.createCloneBackgroundElement(e,"sky"):e===n.buildings?n.createCloneBackgroundElement(e,"building"):e===n.landscapes?n.createCloneBackgroundElement(e,"landscape"):e===n.streetLights?n.createCloneBackgroundElement(e,"streetLights"):e===n.grounds&&n.createCloneBackgroundElement(e,"ground"))})}},{key:"initListeners",value:function(){var e=this;Object(ve.a)(Object(ye.a)(t.prototype),"initListeners",this).call(this),pt.on(s.SandwichPicked,function(){bt.suspendMinigame(),e.playWinAnimation(),e.sandwich.destroy(),e.disableMobileControls(),e.isControlsEnabled=!1})}},{key:"resetClassVariables",value:function(){this.skies=[],this.buildings=[],this.landscapes=[],this.streetLights=[],this.grounds=[],this.isControlsEnabled=!0}},{key:"animateGame",value:function(){var e=this;bt.audio.playSfx("beep",{detune:Ae(-500,500)});Array.from([this.skies,this.buildings,this.landscapes,this.streetLights,this.grounds]).forEach(function(t){var n=1;t===e.skies?n=2:t===e.buildings?n=4:t===e.landscapes?n=5:t===e.streetLights?n=6:t===e.grounds&&(n=7),t.forEach(function(e){e.x-=3*n})}),this.sandwich.x-=21,this.player.anims.play(this.playerTexture,!0,this.currentFrame),this.player.anims.stop(),this.currentFrame+=1,this.currentFrame>=8&&(this.currentFrame=0)}},{key:"initBackground",value:function(){var e=this;this.createBackgroundElement(this.skies,"sky"),this.createBackgroundElement(this.grounds,"ground"),this.createBackgroundElement(this.buildings,"building"),this.createBackgroundElement(this.landscapes,"landscape"),this.createBackgroundElement(this.streetLights,"streetLights"),Array.from(["keydown_LEFT","keydown_RIGHT"]).forEach(function(t){e.scene.scene.input.keyboard.on(t,function(t){e.lastKeyPressed!==t.keyCode&&e.isControlsEnabled&&(e.animateGame(),e.lastKeyPressed=t.keyCode)})}),this.player=this.createPlayer(this.playerTexture),this.player.anims.play(this.playerTexture,!0,3),this.player.anims.stop(),this.sandwich=this.createSandwich(this.sandwichTexture),this.sandwich.anims.play(this.sandwichTexture,!0,0),Array.from([this.player,this.sandwich]).forEach(function(t){e.physics.world.enable(t),t.setDisplaySize(t.width/yt.ratioResolution-1,t.height/yt.ratioResolution-1)});var t=this.physics.add.overlap(this.player,this.sandwich,function(){pt.emit(s.SandwichPicked,e),e.physics.world.removeCollider(t)})}},{key:"createBackgroundElement",value:function(e,t){e[0]=this.add.sprite(0,Number(this.game.config.height),t).setOrigin(0,1).setScale(1/yt.ratioResolution)}},{key:"createCloneBackgroundElement",value:function(e,t){e[e.length+1]=this.add.sprite(e[0].width/yt.ratioResolution,Number(this.game.config.height),t).setOrigin(0,1).setScale(1/yt.ratioResolution)}},{key:"createControls",value:function(){var e=this;this.leftBtn=this.add.sprite(Number(this.game.config.width)/2,Number(this.game.config.height)-50,"btn_left_on").setDepth(1e3).setOrigin(.5,1).setScale(1/yt.ratioResolution),this.leftBtn.x=this.leftBtn.x-this.leftBtn.width/yt.ratioResolution,this.rightBtn=this.add.sprite(Number(this.game.config.width)/2,Number(this.game.config.height)-50,"btn_right_on").setDepth(1e3).setOrigin(.5,1).setScale(1/yt.ratioResolution),this.rightBtn.x=this.rightBtn.x+this.rightBtn.width/yt.ratioResolution,Array.from([this.leftBtn,this.rightBtn]).forEach(function(t){t.setInteractive(),t.input.hitArea.setSize(t.width,t.height),t.on("pointerdown",function(){e.isControlsEnabled&&(t===e.leftBtn?(e.leftBtn.setTexture("btn_left_off"),e.rightBtn.setTexture("btn_right_on")):(e.leftBtn.setTexture("btn_left_on"),e.rightBtn.setTexture("btn_right_off")),e.animateGame())})})}},{key:"disableMobileControls",value:function(){this.leftBtn.setTexture("btn_left_off"),this.rightBtn.setTexture("btn_right_off")}}]),t}(_e),Je=function(e){function t(e){var n;Object(T.a)(this,t),e.style=e.style||"keyboard";var a="mdp_".concat(e.style,"_1");switch(e.code){case"\u25fb":a="mdp_".concat(e.style,"_1");break;case"\u25b2":a="mdp_".concat(e.style,"_2");break;case"|||":a="mdp_".concat(e.style,"_3");break;case"\u2630":a="mdp_".concat(e.style,"_4");break;case"O":a="mdp_".concat(e.style,"_5");break;case"U":a="mdp_".concat(e.style,"_6")}return(n=Object(ge.a)(this,Object(ye.a)(t).call(this,e.scene,e.x,e.y,a,e.frame))).code=e.code,n.setOrigin(0,0).setScale(1/yt.ratioResolution,1/yt.ratioResolution),"keyboard"===e.style&&(n.setInteractive(),n.on("pointerover",function(){n.setTexture("".concat(a,"_hover"))}),n.on("pointerout",function(){n.setTexture("".concat(a))}),n.on("pointerdown",function(){pt.emit(s.KeyboardPasswordButtonClicked,n.code)})),e.scene.add.existing(Object(pe.a)(Object(pe.a)(n))),n}return Object(be.a)(t,e),t}(Phaser.GameObjects.Sprite),Ke=3,Ue=2,Ve=function(e){function t(e){var n;return Object(T.a)(this,t),(n=Object(ge.a)(this,Object(ye.a)(t).call(this,e.scene,e.x,e.y,e.children))).buttons=new Be([]),n.getButton=function(e){return n.buttons.find(function(t){return t.code===e})},Array.from(Re(["\u25fb","\u25b2","|||","\u2630","O","U"])).forEach(function(t,a){n.buttons.push(new Je({scene:e.scene,code:t,x:a%Ke*280/yt.ratioResolution,y:a%Ue*260/yt.ratioResolution}))}),n.add(n.buttons),e.scene.add.existing(Object(pe.a)(Object(pe.a)(n))),n}return Object(be.a)(t,e),t}(Phaser.GameObjects.Container),qe={1:-100,2:-60,3:-20,4:20,5:60},Ye=function(e){function t(e){var n;Object(T.a)(this,t),(n=Object(ge.a)(this,Object(ye.a)(t).call(this,e.scene,e.x,e.y))).stars=new Be,n.addStarChar=function(e){n.stars.push(n.createStar(qe[e])),n.add(n.stars.last())},n.createStar=function(e){var t=n.scene.add.sprite(e,-150,"mdp_star");return t.setOrigin(.5,1).setScale(1/yt.ratioResolution,1/yt.ratioResolution),t},n.createScreenSprite=function(){var e=n.scene.add.sprite(0,0,"mdp_screen_1");return e.setOrigin(.5,1).setScale(1/yt.ratioResolution,1/yt.ratioResolution),e},n.screen=n.createScreenSprite(),n.add(n.screen);var a=n.scene.scene.get(je.PasswordGame);return pt.once(s.KeyboardPasswordButtonClicked,function(){n.screen.setTexture("mdp_screen_2")}),pt.on(s.KeyboardPasswordButtonClicked,Object(E.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.typedPassword.length<a.password.length)){e.next=4;break}n.addStarChar(a.typedPassword.length),e.next=9;break;case 4:if(a.typedPassword.length!==a.password.length){e.next=9;break}return n.addStarChar(a.typedPassword.length),e.next=8,De(n.scene.time,30);case 8:n.remove(n.stars);case 9:case"end":return e.stop()}},e,this)}))),e.scene.add.existing(Object(pe.a)(Object(pe.a)(n))),n}return Object(be.a)(t,e),t}(Phaser.GameObjects.Container),Qe=3e3,$e=3,Xe=4,Ze=5,et=function(e){function t(){var e;return Object(T.a)(this,t),(e=Object(ge.a)(this,Object(ye.a)(t).call(this,{key:je.PasswordGame}))).password=[],e.typedPassword=[],e.create=Object(E.a)(S.a.mark(function n(){return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Object(ve.a)(Object(ye.a)(t.prototype),"create",Object(pe.a)(e)).call(Object(pe.a)(e)),bt.suspendMinigame(),e.typedPassword=[],e.password=e.createPassword(),n.next=6,e.playIntroduction();case 6:bt.resumeMinigame(),e.computerScreen=new Ye({scene:Object(pe.a)(Object(pe.a)(e)),x:window.innerWidth/2,y:window.innerHeight-200}),e.keyboard=new Ve({scene:Object(pe.a)(Object(pe.a)(e)),y:window.innerHeight-220,x:window.innerWidth/2}),e.keyboard.x-=e.keyboard.getBounds().width/2;case 10:case"end":return n.stop()}},n,this)})),e.update=function(e,t){},e.playIntroduction=Object(E.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){var n=[],a=e.scene.scene.add.sprite(window.innerWidth/2,window.innerHeight,"mdp_paper").setScale(1/yt.ratioResolution).setOrigin(.5,1).anims.play("mdp_paper_animation");a.on("animationcomplete",Object(E.a)(S.a.mark(function i(){return S.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.password.forEach(function(t,a){n.push(new Je({scene:Object(pe.a)(Object(pe.a)(e)),style:"symbol",code:t,x:window.innerWidth/2-115+160*a/yt.ratioResolution,y:window.innerHeight-240}).setOrigin(.5,1))}),i.next=3,De(e.time,Qe);case 3:a.destroy(),n.forEach(function(e){return e.destroy()}),t();case 6:case"end":return i.stop()}},i,this)})))}));case 1:case"end":return t.stop()}},t,this)})),e.createPassword=function(){var e=Re(["\u25fb","\u25b2","|||","\u2630","O","U"]);return e=yt.difficulty<=3?e.slice(0,$e):yt.difficulty<=6?e.slice(0,Xe):e.slice(0,Ze),Array.from(e).reduce(function(e,t,n){return n<=4&&e.push(t),e},[])},e}return Object(be.a)(t,e),Object(P.a)(t,[{key:"initListeners",value:function(){var e=this;Object(ve.a)(Object(ye.a)(t.prototype),"initListeners",this).call(this),pt.on(s.KeyboardPasswordButtonClicked,function(){var t=Object(E.a)(S.a.mark(function t(n){var a,i,r;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.typedPassword.length!==e.password.length){t.next=2;break}return t.abrupt("return");case 2:if(bt.audio.playSfx("beep"),e.typedPassword.push(n),e.typedPassword.length<=e.password.length&&(a=e.keyboard.getButton(n),i=a.texture,e.game.device.os.desktop||a.setTexture("".concat(i.key,"_hover")),r=e.add.sprite(a.getBounds().x,a.getBounds().y,"mdp_paw").setScale(1/yt.ratioResolution).setOrigin(-.5,-.25),De(e.time,180).then(function(){e.game.device.os.desktop||a.setTexture("".concat(i.key)),r.destroy()})),e.typedPassword.length!==e.password.length||!e.password.every(function(t,n){return e.typedPassword[n]===t})){t.next=13;break}return bt.suspendMinigame(),e.computerScreen.screen.setDepth(1e3).anims.play("mdp_valid_animation"),t.next=10,De(e.time,2e3);case 10:e.onSuccess(),t.next=14;break;case 13:e.typedPassword.length!==e.password.length||e.password.every(function(t,n){return e.typedPassword[n]===t})||(bt.suspendMinigame(),e.computerScreen.screen.setDepth(1e3).anims.play("mdp_nope_animation"),bt.audio.playSfx("error",{volume:.4,delay:.1}),De(e.time,2e3).then(function(){e.onFailure()}));case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}}]),t}(_e),tt="hit",nt="success",at=3e3,it=function(e){function t(){var e;return Object(T.a)(this,t),(e=Object(ge.a)(this,Object(ye.a)(t).call(this,{key:je.PostMinigameScene}))).create=Object(E.a)(S.a.mark(function n(){var a,i;return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Object(ve.a)(Object(ye.a)(t.prototype),"create",Object(pe.a)(e)).call(Object(pe.a)(e)),e.createFillerGraphics(),a=bt.hasTokiJustLost,i=bt.isTokiDead,a?bt.audio.playSfx(tt,{volume:.2,delay:.5}):bt.audio.playSfx(nt,{volume:.2,delay:.3}),n.next=6,De(e.time,at);case 6:bt.resetTokiStatus(),i?bt.loadDeathscreen():bt.loadNextMinigame();case 8:case"end":return n.stop()}},n,this)})),e.createFillerGraphics=function(){var t=e.add.graphics();t.fillStyle(16724736,0),t.fillRect(100,200,600,300),t.fillRect(100,100,100,100),e.add.text(-100,-100,e.scene.key)},e}return Object(be.a)(t,e),t}(Ee),rt=function(e){function t(){return Object(T.a)(this,t),Object(ge.a)(this,Object(ye.a)(t).call(this,{key:je.Deathscreen}))}return Object(be.a)(t,e),Object(P.a)(t,[{key:"create",value:function(){Object(ve.a)(Object(ye.a)(t.prototype),"create",this).call(this);var e=this.add.graphics();e.fillStyle(16724736,1),e.fillRect(100,200,600,300),e.fillRect(100,100,100,100),this.add.text(120,110,this.scene.key)}}]),t}(Ee),st="#6adeb8",ot=["#fcdb73","#1334ff","#f99bf3",st,"#ff6b35","#ff5a5a","#dc103c","#ffffff","#cecdd0","#948d9b","#4d4851","#28252a"],ct={antialias:!1,backgroundColor:st,input:{gamepad:!1,keyboard:!0,mouse:!0,touch:!0},physics:{arcade:{debug:!0,gravity:{y:0}},default:"arcade"},title:"Harder, Faster, Looser",version:"1.0",width:window.innerWidth,height:window.innerHeight,zoom:3,parent:"game",scene:[xe,Ce,Te,Fe,We,et,it,rt],type:Phaser.AUTO,pixelArt:!0},ut=n(570),lt=n(290),ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Me(lt.a.to(e,t,{opacity:1}).delay(n))},dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Me(lt.a.to(e,t,{opacity:0}).delay(n))},ft=new(function(){function e(){var t,n,i=this;Object(T.a)(this,e),this.currentCategory=a.Action,this.games=(t={},Object(Oe.a)(t,a.Action,new Be([je.SpamGame,je.SandwichGame,je.PasswordGame])),Object(Oe.a)(t,a.Waiting,new Be([])),t),this.playedGames=(n={},Object(Oe.a)(n,a.Action,new Be),Object(Oe.a)(n,a.Waiting,new Be),n),this.startGame=function(){var e=Object(E.a)(S.a.mark(function e(t){var n,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a in console.log("picking "+t),i.games)i.games.hasOwnProperty(a)&&i.games[a].find(function(e){return e===t})&&(n=a);if(!n||!t){e.next=9;break}if(i.playedGames[n].length===i.games[n].length&&i.playedGames[n].clear(),i.playedGames[n].has(t)?t=i.games[n].random():i.playedGames[n].push(t),i.lastGame&&i.lastGame===t)for(;t===i.lastGame;)t=i.games[n].random();return i.lastGame=t,e.next=9,bt.startScene(t);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}return Object(P.a)(e,[{key:"pickNextGameKey",value:function(){var e;if(e=this.pickRandomCategory(Math.random()),this.currentCategory===a.Waiting&&e===a.Waiting)for(;e===a.Waiting;)e=this.pickRandomCategory(Math.random());return this.currentCategory=e,console.log(this.currentCategory),this.pickGameKey(e)}},{key:"pickGameKey",value:function(e){console.log("picking "+e);var t=this.games[e].random();if(this.playedGames[e].length===this.games[e].length&&this.playedGames[e].clear(),this.playedGames[e].has(t)?t=this.games[e].random():this.playedGames[e].push(t),this.lastGame&&this.lastGame===t)for(;t===this.lastGame;)t=this.games[e].random();return this.lastGame=t,t}},{key:"pickRandomCategory",value:function(e){return this.games[a.Waiting].length>0&&e<ke[a.Waiting]?a.Waiting:(this.games[a.Action].length>0&&e>=ke[a.Waiting]&&a.Action,a.Action)}}]),e}()),mt=function e(t){var n=this;Object(T.a)(this,e),this.gm=t,this.playSfx=function(e,t){n.sound.play(e,Object(me.a)({},t,{volume:t&&t.volume||.05}))},this.playBg=function(e){n.sound.play("bg",Object(me.a)({},e,{volume:e&&e.volume||.1,loop:!0}))},this.sound=t.game.sound,this.sound.pauseOnBlur=!1},pt=new ut.EventEmitter,gt=new(function(){function e(){var t=this;Object(T.a)(this,e),this.game=new Phaser.Game(ct),this.audio=new mt(this),this.suspendMinigame=function(){yt.changeConfig({suspended:!0})},this.resumeMinigame=function(){yt.changeConfig({suspended:!1})},this.startGame=function(){t.game.scene.getScene(je.Boot).startGame()},this.resizeCamera=function(e,n){t.activeScene.cameras.resize(e,n)},this.loadSplashscreen=Object(E.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.startScene(je.Splashscreen);case 2:yt.changeState(i.Splashscreen);case 3:case"end":return e.stop()}},e,this)})),this.loadHomescreen=Object(E.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.startScene(je.Homescreen);case 2:yt.changeState(i.Homescreen);case 3:case"end":return e.stop()}},e,this)})),this.loadMinigame=function(){var e=Object(E.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return gt.suspendMinigame(),e.next=3,ft.startGame(t);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this.loadNextMinigame=Object(E.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return gt.suspendMinigame(),e.next=3,t.startScene(ft.pickNextGameKey());case 3:case"end":return e.stop()}},e,this)})),this.loadPostMinigame=Object(E.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return gt.suspendMinigame(),e.next=3,t.startScene(je.PostMinigameScene);case 3:case"end":return e.stop()}},e,this)})),this.loadDeathscreen=Object(E.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.startScene(je.Deathscreen);case 2:case"end":return e.stop()}},e,this)})),this.startScene=function(){var e=Object(E.a)(S.a.mark(function e(n){var a,r,o=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:yt.config,r=o.length>2?o[2]:void 0,Object.keys(s).forEach(function(e){pt.removeAllListeners(s[e])}),console.log("STARTED "+n),!t.gameFader||!a.fade){e.next=19;break}return yt.startTransitionning(),e.next=8,ht(t.gameFader);case 8:return t.game.scene.scenes.filter(function(e){return e.scene.key!==n}).forEach(function(e){return e.scene.stop(e.scene.key)}),gt.resumeMinigame(),t.game.scene.start(n,r),yt.changeState(n.includes(we)?i.Minigame:n),yt.regenerateUiKey(),yt.stopTransitionning(),e.next=16,dt(t.gameFader);case 16:yt.paused&&yt.resume(),e.next=27;break;case 19:t.game.scene.scenes.filter(function(e){return e.scene.key!==n}).forEach(function(e){return e.scene.stop(e.scene.key)}),yt.startTransitionning(),gt.resumeMinigame(),t.game.scene.start(n,r),yt.stopTransitionning(),yt.changeState(n.includes(we)?i.Minigame:n),yt.regenerateUiKey(),yt.paused&&yt.resume();case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this.pause=function(){t.activeScene&&(t.activeScene.scene.pause(),yt.pause())},this.resume=function(){t.activeScene&&(t.activeScene.scene.resume(),yt.resume())},this.changeBackgroundColor=function(e){t.activeScene&&t.activeScene.cameras.main.setBackgroundColor(Le(e))},this.restartActiveScene=Object(E.a)(S.a.mark(function e(){var n,a,i=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>0&&void 0!==i[0]?i[0]:yt.config,a=i.length>1?i[1]:void 0,!t.activeScene){e.next=5;break}return e.next=5,t.startScene(t.activeScene.scene.key,n,a);case 5:case"end":return e.stop()}},e,this)})),this.togglePause=function(){t.activeScene&&(yt.paused?(t.activeScene.sound.setDetune(0),t.activeScene.scene.resume(),yt.resume()):(t.activeScene.sound.setDetune(-1200),t.activeScene.scene.pause(),yt.pause()),console.log("TOGGLE PAUSE"))},this.resetTokiStatus=function(){yt.resetTokiStatus()},this.looseLife=function(){yt.looseLife()},pt.on(r.SceneInit,function(e){t.activeScene=e})}return Object(P.a)(e,[{key:"hasTokiJustLost",get:function(){return yt.hasJustLoosedBrain||yt.hasJustLoosedHeart||yt.hasJustStress}},{key:"isTokiDead",get:function(){return!yt.status.hasHeart}}]),e}()),bt=gt,yt=new(R=function(){function e(){Object(T.a)(this,e),Object(C.a)(this,"state",L,this),Object(C.a)(this,"difficulty",z,this),Object(C.a)(this,"loading",I,this),Object(C.a)(this,"started",N,this),Object(C.a)(this,"status",G,this),Object(C.a)(this,"elapsed",B,this),Object(C.a)(this,"paused",_,this),Object(C.a)(this,"settings",F,this),Object(C.a)(this,"config",H,this),Object(C.a)(this,"ratioResolution",W,this),Object(C.a)(this,"transitionning",J,this),Object(C.a)(this,"uiKey",K,this),Object(C.a)(this,"increaseElapsed",U,this),Object(C.a)(this,"startGame",V,this),Object(C.a)(this,"stopGame",q,this),Object(C.a)(this,"regenerateUiKey",Y,this),Object(C.a)(this,"changeConfig",Q,this),Object(C.a)(this,"looseLife",$,this),Object(C.a)(this,"startLoading",X,this),Object(C.a)(this,"stopLoading",Z,this),Object(C.a)(this,"changeState",ee,this),Object(C.a)(this,"increaseDifficulty",te,this),Object(C.a)(this,"changeRatioResolution",ne,this),Object(C.a)(this,"togglePause",ae,this),Object(C.a)(this,"pause",ie,this),Object(C.a)(this,"resume",re,this),Object(C.a)(this,"startTransitionning",se,this),Object(C.a)(this,"stopTransitionning",oe,this),Object(C.a)(this,"toggleTransition",ce,this),Object(C.a)(this,"resetTokiStatus",ue,this)}return Object(P.a)(e,[{key:"hasStress",get:function(){return this.status.hasStress}},{key:"hasLoosedBrain",get:function(){return!this.status.hasBrain}},{key:"hasLoosedHeart",get:function(){return!this.status.hasHeart}},{key:"hasJustStress",get:function(){return this.status.hasJustStress}},{key:"hasJustLoosedBrain",get:function(){return this.status.hasJustBrain}},{key:"hasJustLoosedHeart",get:function(){return this.status.hasJustHeart}},{key:"secondsElapsed",get:function(){return this.elapsed/1e3*16}},{key:"timeElapsed",get:function(){return new Date(1e3*this.secondsElapsed).toLocaleTimeString("fr",{minute:"2-digit",second:"2-digit"})}}]),e}(),L=Object(D.a)(R.prototype,"state",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i.Splashscreen}}),z=Object(D.a)(R.prototype,"difficulty",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=Object(D.a)(R.prototype,"loading",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=Object(D.a)(R.prototype,"started",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=Object(D.a)(R.prototype,"status",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{hasStress:!1,hasBrain:!0,hasHeart:!0,hasJustStress:!1,hasJustBrain:!1,hasJustHeart:!1}}}),B=Object(D.a)(R.prototype,"elapsed",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=Object(D.a)(R.prototype,"paused",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=Object(D.a)(R.prototype,"settings",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{volume:1}}}),H=Object(D.a)(R.prototype,"config",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{dev:!1,suspended:!1,fade:!0,fadeColor:st,backgroundColor:st,minigameDuration:500}}}),W=Object(D.a)(R.prototype,"ratioResolution",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),J=Object(D.a)(R.prototype,"transitionning",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=Object(D.a)(R.prototype,"uiKey",[A.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new Phaser.Math.RandomDataGenerator).uuid()}}),U=Object(D.a)(R.prototype,"increaseElapsed",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e.elapsed+=t}}}),V=Object(D.a)(R.prototype,"startGame",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.started=!0}}}),q=Object(D.a)(R.prototype,"stopGame",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.started=!1}}}),Y=Object(D.a)(R.prototype,"regenerateUiKey",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.uiKey=(new Phaser.Math.RandomDataGenerator).uuid()}}}),Q=Object(D.a)(R.prototype,"changeConfig",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.config=Object(me.a)({},e.config,t),t.backgroundColor&&bt.changeBackgroundColor(e.config.backgroundColor)}}}),$=Object(D.a)(R.prototype,"looseLife",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.status.hasStress?e.status.hasBrain?(e.status.hasBrain=!1,e.status.hasJustStress=!1,e.status.hasJustBrain=!0,e.status.hasJustHeart=!1):e.status.hasHeart&&(e.status.hasHeart=!1,e.status.hasJustStress=!1,e.status.hasJustBrain=!1,e.status.hasJustHeart=!0):(e.status.hasStress=!0,e.status.hasJustStress=!0,e.status.hasJustBrain=!1,e.status.hasJustHeart=!1,e.status.hasJustStress=!0)}}}),X=Object(D.a)(R.prototype,"startLoading",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.loading=!0}}}),Z=Object(D.a)(R.prototype,"stopLoading",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.loading=!1}}}),ee=Object(D.a)(R.prototype,"changeState",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.state=t}}}),te=Object(D.a)(R.prototype,"increaseDifficulty",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;e.difficulty+=t}}}),ne=Object(D.a)(R.prototype,"changeRatioResolution",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.ratioResolution=2}}}),ae=Object(D.a)(R.prototype,"togglePause",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.transitionning||(e.paused=!e.paused)}}}),ie=Object(D.a)(R.prototype,"pause",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.transitionning||(e.paused=!0)}}}),re=Object(D.a)(R.prototype,"resume",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.transitionning||(e.paused=!1)}}}),se=Object(D.a)(R.prototype,"startTransitionning",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.transitionning=!0}}}),oe=Object(D.a)(R.prototype,"stopTransitionning",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.transitionning=!1}}}),ce=Object(D.a)(R.prototype,"toggleTransition",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.transitionning=!e.transitionning}}}),ue=Object(D.a)(R.prototype,"resetTokiStatus",[A.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.status.hasJustStress=!1,e.status.hasJustBrain=!1,e.status.hasJustHeart=!1}}}),R),vt=function(){return w.a.createElement("div",{className:"homescreen-ui"},w.a.createElement("h1",null,"Je suis l'ui du homescreen"))},Ot=function(){return w.a.createElement("div",{className:"splashscreen-ui"},w.a.createElement("h1",null,"Je suis l'ui du splashscreen"))},wt=n(26),jt=n(27);function kt(){var e=Object(wt.a)(["\n  height: 40px;\n  will-change: width;\n  background: red;\n"]);return kt=function(){return e},e}function St(){var e=Object(wt.a)(["\n  width: 100%;\n  height: 40px;\n  background: white;\n"]);return St=function(){return e},e}var Et=jt.a.div(St()),xt=jt.a.div(kt()),Ct=Object(fe.a)(function(){var e=yt.config,t=e.minigameDuration,n=e.suspended,a=Object(O.useState)(0),i=Object(x.a)(a,2),r=i[0],o=i[1],c=Object(O.useRef)(null);Object(O.useEffect)(function(){bt.activeScene.time.addEvent({callback:function(){c.current&&c.current.click()},delay:16,repeat:-1})},[]),r>=t&&(bt.activeScene.time.removeAllEvents(),pt.emit(s.RemainingTimeOver),o(t-1e-5));var u=100-r/t*100;return w.a.createElement(Et,{className:"progress remaining-time"},w.a.createElement("button",{ref:c,onClick:function(){n||(yt.increaseElapsed(),o(r+1))},style:{pointerEvents:"all",display:"none"}}),w.a.createElement(xt,{style:{width:"".concat(u,"%")},className:"progress inner"},w.a.createElement("span",{style:{display:"none"},"aria-hidden":!0},u,"%")))});function Tt(){var e=Object(wt.a)(["\n  background: rgb(55, 63, 71);\n  height: ","px;\n  top: 0;\n  position: absolute;\n  z-index: 0;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  padding: 20px;\n"]);return Tt=function(){return e},e}var Pt=jt.a.div(Tt(),84),Dt=function(e){return w.a.createElement(Pt,Object.assign({},e,{className:"minigame-toolbar"}),w.a.createElement(Ct,null))},At=function(){return w.a.createElement("div",{className:"minigame-ui"},w.a.createElement(Dt,null))},Mt=n(573),Rt=n.n(Mt),Lt=n(574),zt=n.n(Lt),It=n(575),Nt=n.n(It),Gt=function(e){function t(e){var n;Object(T.a)(this,t),(n=Object(ge.a)(this,Object(ye.a)(t).call(this,e))).renderElements=function(){var e=n.props,t=e.image,a=e.className,i=e.style,r=e.widthFrame,s=e.heightFrame,o=e.background,c=e.backgroundSize,u=e.backgroundRepeat,l=e.backgroundPosition,h=e.onClick,d=e.onDoubleClick,f=e.onMouseMove,m=e.onMouseEnter,p=e.onMouseLeave,g=e.onMouseOver,b=e.onMouseOut,y=e.onMouseDown,v=e.onMouseUp,O={position:"relative",overflow:"hidden",width:"".concat(r,"px"),height:"".concat(s,"px"),transform:"scale(".concat(n.spriteScale,")"),transformOrigin:"0 0",backgroundImage:"url(".concat(o,")"),backgroundSize:c,backgroundRepeat:u,backgroundPosition:l},j={overflow:"hidden",backgroundRepeat:"no-repeat",display:"table-cell",backgroundImage:"url(".concat(t,")"),width:"".concat(r,"px"),height:"".concat(s,"px"),transformOrigin:"0 50%"},k=w.a.createElement("div",{className:"react-responsive-spritesheet-container__move",style:j}),S=w.a.createElement("div",{className:"react-responsive-spritesheet-container",style:O},k);return w.a.createElement("div",{className:"spritesheet ".concat(n.id," ").concat(a),style:i,onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return h(n.setInstance())}),onDoubleClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return d(n.setInstance())}),onMouseMove:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return f(n.setInstance())}),onMouseEnter:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return m(n.setInstance())}),onMouseLeave:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return p(n.setInstance())}),onMouseOver:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return g(n.setInstance())}),onMouseOut:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return b(n.setInstance())}),onMouseDown:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return y(n.setInstance())}),onMouseUp:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return v(n.setInstance())})},S)},n.init=function(){var e=n.props,t=e.image,a=e.widthFrame,i=e.heightFrame,r=e.autoplay,s=e.getInstance,o=e.onInit,c=new Image;c.src=t,c.onload=function(){if(document&&document.querySelector(".".concat(n.id))){n.imageSprite=c,n.cols=n.imageSprite.width===a?1:n.imageSprite.width/a,n.rows=n.imageSprite.height===i?1:n.imageSprite.height/i,n.spriteEl=document.querySelector(".".concat(n.id)),n.spriteElContainer=n.spriteEl.querySelector(".react-responsive-spritesheet-container"),n.spriteElMove=n.spriteElContainer.querySelector(".react-responsive-spritesheet-container__move"),n.resize(!1),window.addEventListener("resize",n.resize),n.moveImage(!1),setTimeout(function(){n.resize(!1)},10),r&&n.play(!0);var e=n.setInstance();s(e),o(e)}},c.onerror=function(){throw new Error("Failed to load image ".concat(c.src))}},n.resize=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=n.props,a=t.widthFrame,i=t.onResize,r=t.scale;n.isResponsive&&(n.spriteScale=n.spriteEl.offsetWidth/a*r,n.spriteElContainer.style.transform="scale(".concat(n.spriteScale,")"),n.spriteElContainer.style.imageRendering="pixelated",n.spriteEl.style.height="".concat(n.getInfo("height"),"px"),e&&i&&i(n.setInstance()))},n.play=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.props,a=t.onPlay,i=t.timeout;n.isPlaying||setTimeout(function(){a(n.setInstance()),n.setIntervalPlayFunctions(),n.isPlaying=!0},e?i:0)},n.setIntervalPlayFunctions=function(){n.intervalSprite&&clearInterval(n.intervalSprite),n.intervalSprite=setInterval(function(){n.isPlaying&&n.moveImage()},1e3/n.fps)},n.moveImage=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=n.props,a=t.onEnterFrame,i=t.onEachFrame,r=t.loop,s=t.onLoopComplete,o=t.repeat,c=Math.floor(n.frame/n.cols),u=n.frame-n.cols*c;n.spriteElMove.style.backgroundPosition="-".concat(n.props.widthFrame*u,"px -").concat(n.props.heightFrame*c,"px"),a&&a.map(function(e,t){e.frame===n.frame&&e.callback&&e.callback()}),e&&("rewind"===n.direction?n.frame-=1:n.frame+=1,i&&i(n.setInstance())),n.isPlaying&&(("forward"!==n.direction||n.frame!==n.steps&&n.frame!==n.endAt)&&("rewind"!==n.direction||-1!==n.frame&&n.frame!==n.endAt)||(r?(s&&s(n.setInstance()),-1===o?(n.completeLoopCicles+=1,n.frame=n.startAt?n.startAt:"rewind"===n.direction?n.steps-1:0):0===o?n.pause():(n.completeLoopCicles+=1,n.frame=n.startAt?n.startAt:"rewind"===n.direction?n.steps-1:0,n.completeLoopCicles===o&&n.pause())):n.pause()))},n.pause=function(){var e=n.props.onPause;n.isPlaying=!1,clearInterval(n.intervalSprite),e(n.setInstance())},n.goToAndPlay=function(e){n.frame=e||n.frame,n.play()},n.goToAndPause=function(e){n.pause(),n.frame=e||n.frame,n.moveImage()},n.setStartAt=function(e){return n.startAt=e?e-1:0,n.startAt},n.setEndAt=function(e){return n.endAt=e,n.endAt},n.setDirection=function(e){return n.direction="rewind"===e?"rewind":"forward",n.direction},n.getInfo=function(e){switch(e){case"direction":return n.direction;case"frame":return n.frame;case"fps":return n.fps;case"steps":return n.steps;case"width":return n.spriteElContainer.getBoundingClientRect().width;case"height":return n.spriteElContainer.getBoundingClientRect().height;case"scale":return n.spriteScale;case"isPlaying":return n.isPlaying;case"isPaused":return!n.isPlaying;case"completeLoopCicles":return n.completeLoopCicles;default:throw new Error("Invalid param `".concat(e,"` requested by Spritesheet.getinfo(). See the documentation on https://github.com/danilosetra/react-responsive-spritesheet"))}};var a=n.props,i=a.isResponsive,r=a.startAt,s=a.endAt,o=a.fps,c=a.steps,u=a.direction,l=a.scale;return n.id="spritesheet--".concat(ze(8)),n.spriteEl=n.spriteElContainer=n.spriteElMove=n.imageSprite=n.cols=n.rows=null,n.intervalSprite=!1,n.isResponsive=i,n.startAt=n.setStartAt(r),n.endAt=n.setEndAt(s),n.fps=o,n.steps=c,n.completeLoopCicles=0,n.isPlaying=!1,n.spriteScale=l,n.direction=n.setDirection(u),n.frame=n.startAt?n.startAt:"rewind"===n.direction?n.steps-1:0,n}return Object(be.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"setFps",value:function(e){this.fps=e,this.setIntervalPlayFunctions()}},{key:"setInstance",value:function(){return{play:this.play,pause:this.pause,goToAndPlay:this.goToAndPlay,goToAndPause:this.goToAndPause,setStartAt:this.setStartAt,setEndAt:this.setEndAt,setFps:this.setFps,setDirection:this.setDirection,getInfo:this.getInfo}}},{key:"render",value:function(){return this.renderElements()}}]),t}(O.Component);Gt.defaultProps={className:"",style:{},isResponsive:!0,direction:"forward",timeout:0,scale:1,autoplay:!0,loop:!0,startAt:0,endAt:!1,background:"",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"",repeat:-1,getInstance:function(){},onClick:function(){},onDoubleClick:function(){},onMouseMove:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onMouseOver:function(){},onMouseOut:function(){},onMouseDown:function(){},onMouseUp:function(){},onInit:function(){},onResize:!1,onPlay:function(){},onPause:function(){},onLoopComplete:!1,onEachFrame:!1,onEnterFrame:!1};var Bt=Gt;function _t(){var e=Object(wt.a)(["\n  display: flex;\n  flex-direction: column;\n  width: ","px;\n  & li {\n    margin-bottom: 20px;\n  }\n"]);return _t=function(){return e},e}var Ft=jt.a.ul(_t(),95),Ht=Object(fe.a)(function(){var e=yt.hasLoosedBrain,t=yt.hasLoosedHeart,n=yt.hasStress,a=yt.hasJustLoosedBrain,i=yt.hasJustLoosedHeart,r=yt.hasJustStress;return w.a.createElement(Ft,null,w.a.createElement("li",null,w.a.createElement(Bt,{image:Rt.a,widthFrame:285,heightFrame:270,steps:8,autoplay:r,startAt:n&&!r?8:0,fps:8,repeat:0})),w.a.createElement("li",null,w.a.createElement(Bt,{image:zt.a,widthFrame:285,heightFrame:270,steps:20,autoplay:a,startAt:e&&!a?20:0,fps:8,repeat:0})),w.a.createElement("li",null,w.a.createElement(Bt,{image:Nt.a,widthFrame:285,heightFrame:270,steps:9,autoplay:i,startAt:t&&!i?9:0,fps:8,repeat:0})))});function Wt(){var e=Object(wt.a)(["\n  margin-bottom: 40px;\n  font-size: 36px;\n  color: ",";\n"]);return Wt=function(){return e},e}function Jt(){var e=Object(wt.a)(["\n  background: ",";\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  animation: "," 0.8s;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Jt=function(){return e},e}function Kt(){var e=Object(wt.a)(["\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n"]);return Kt=function(){return e},e}var Ut=Object(jt.b)(Kt()),Vt=jt.a.div(Jt(),function(e){return e.backgroundColor},Ut),qt=jt.a.h2(Wt(),"#28252a"),Yt=Object(fe.a)(function(){var e=yt.timeElapsed,t=yt.config.backgroundColor;return w.a.createElement(Vt,{backgroundColor:Le(t)},w.a.createElement(qt,null,e),w.a.createElement(Ht,null))}),Qt=function(){return w.a.createElement("div",{className:"deathscreen-ui"},w.a.createElement("h1",null,"Je suis l'ui du deathscreen"))};function $t(){var e=Object(wt.a)(["\n  position: absolute;\n  z-index: 10;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  &::after {\n    content: '';\n    transition: all 0.3s;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: ",";\n  }\n"]);return $t=function(){return e},e}var Xt=jt.a.div($t(),function(e){return e.color}),Zt=Object(fe.a)(function(){var e=w.a.createRef(),t=yt.config.fadeColor;return Object(O.useEffect)(function(){e.current&&(bt.gameFader=e.current)},[]),w.a.createElement(Xt,{color:t,ref:e,className:"transition-fade"})}),en=Object(fe.a)(function(){var e=yt.state,t=yt.uiKey,n=yt.paused,a=["game-ui"],r=Object(O.useRef)(null);Object(O.useEffect)(function(){r.current&&(bt.gameUI=r.current)},[]);var s=Ot;switch(e){case i.Splashscreen:s=Ot;break;case i.Homescreen:s=vt;break;case i.Minigame:s=At;break;case i.PostMinigame:s=Yt;break;case i.Deathscreen:s=Qt}return n&&a.push("paused"),w.a.createElement("div",{ref:r,className:a.join(" ")},w.a.createElement(Zt,null),void 0!==bt.activeScene&&w.a.createElement(s,{key:t}))}),tn=n(186),nn=n.n(tn),an=function e(t){var n=t.title,a=t.children,i=t.center,r=t.rounded,s=t.forceTheme,o=t.x,c=t.hide,u=t.y,l=t.zIndex,h=t.draggable,d=t.disabled,f=void 0!==h?h:e.defaultProps.draggable,m=["game-state-list","container"],p=de(s);p&&m.push(p),d&&m.push("disabled"),n&&""!==n&&m.push("with-title"),i&&m.push("is-center"),r&&m.push("is-rounded");var g=w.a.createElement("section",{className:m.join(" "),style:{left:o,top:u,zIndex:l,position:"fixed",display:c?"none":"initial"}},n&&""!==n&&w.a.createElement("h2",{className:"title"},n),a);return f?w.a.createElement(nn.a,null,g):g};an.defaultProps={center:!1,draggable:!0,hide:!1,disabled:!1,rounded:!1};var rn=Object(fe.a)(an),sn=Object(fe.a)(function(e){var t=yt.transitionning,n=bt.game.scene.scenes.filter(function(e){return e.scene.key.includes(we)}).map(function(e){return e.scene.key}),a=function(e){bt.loadMinigame(e.target.value)};return O.createElement(O.Fragment,null,O.createElement(rn,Object.assign({disabled:t},e),n.map(function(e){return O.createElement("label",{key:e,className:"game-state-list--item"},O.createElement("input",{id:e,className:"radio",type:"radio",name:"currentMinigame",value:e,checked:!!bt.activeScene&&e===bt.activeScene.scene.key,onChange:a}),O.createElement("span",null,e))})))}),on=Object(fe.a)(function(e){var t=yt.state,n=yt.transitionning,a=Object.keys(i).map(function(e){return i[e]}),r=function(e){switch(e.target.value){case i.Splashscreen:bt.loadSplashscreen();break;case i.Homescreen:bt.loadHomescreen();break;case i.Deathscreen:bt.loadDeathscreen();break;case i.Minigame:bt.loadMinigame(je.SpamGame);break;default:bt.startScene(e.target.value)}};return O.createElement(O.Fragment,null,O.createElement(rn,Object.assign({disabled:n},e),a.map(function(e){return O.createElement("label",{key:e,className:"game-state-list--item"},O.createElement("input",{id:e,className:"radio",type:"radio",name:"currentState",value:e,checked:e===t,onChange:r}),O.createElement("span",null,e))})),O.createElement(sn,{hide:t&&t!==i.Minigame,title:"Minigame picker",x:630}))}),cn=n(289);function un(){var e=Object(wt.a)(["\n  ","\n"]);return un=function(){return e},e}var ln=jt.a.div(un(),function(e){switch(e.size){case"small":return"margin: 1rem 0";case"medium":return"margin: 2rem 0";case"large":return"margin: 4rem 0"}}),hn=function(e){return O.createElement(ln,e)};hn.defaultProps={size:"small"};var dn=hn,fn=n(579),mn=n(187),pn=function(e){var t,n=e.validationClassname,a=e.validationFeedbackDelay,i=e.onValidate,r=e.onKeyDown,s=Object(fn.a)(e,["validationClassname","validationFeedbackDelay","onValidate","onKeyDown"]),o=Object(O.useRef)(null),c=Object(O.useCallback)(function(e){e.key===mn.Key.Enter&&(o.current&&!o.current.classList.contains("is-success")&&o.current.classList.add("is-success"),t&&clearTimeout(t),i&&i(e.target.value),t=setTimeout(function(){o.current&&n&&o.current.classList.remove(n)},a)),r&&r(e)},[]);return O.createElement("input",Object.assign({},s,{onKeyDown:c,ref:o}))};pn.defaultProps={validationFeedbackDelay:2e3,validationClassname:"is-success"};var gn=pn;function bn(){var e=Object(wt.a)(["\n  width: 100px;\n  display: inline-block;\n  transition: all 0.15s;\n"]);return bn=function(){return e},e}var yn=jt.a.span(bn()),vn=Object(fe.a)(function(e){var t=yt.config,n=t.fade,a=t.minigameDuration,i=yt.changeConfig,r=Object(O.useCallback)(function(){i({fade:!n})},[n]),s=Object(O.useCallback)(function(e){i({fadeColor:e.hex})},[]),o=Object(O.useCallback)(function(e){i({backgroundColor:Object(me.a)({},e.rgb,{a:1})})},[]),c=Object(O.useCallback)(function(e){i({minigameDuration:Number(e)})},[a]);return O.createElement(rn,e,O.createElement("label",null,O.createElement("input",{type:"checkbox",className:"checkbox",checked:n,onChange:r}),O.createElement("span",null,"Fade?")),n&&O.createElement(O.Fragment,null,O.createElement(dn,null),O.createElement("p",null,"Fade color"),O.createElement(dn,{size:"small"}),O.createElement(cn.CirclePicker,{colors:ot,onChangeComplete:s})),O.createElement(dn,null),O.createElement("p",null,"Game background color"),O.createElement(dn,{size:"small"}),O.createElement(cn.CirclePicker,{colors:ot,onChangeComplete:o}),O.createElement(dn,null),O.createElement("p",null,"Minigame duration :",O.createElement(yn,null,O.createElement(gn,{defaultValue:String(a),onValidate:c,className:"input",type:"number",max:700,min:200}))))}),On=function(e){var t=e.hide;return O.createElement("div",{style:{display:t?"block":"none"},className:"game-debug game-ui"},O.createElement("h1",null,"Debug interface"),O.createElement(vn,{title:"Game config",x:10,y:180}),O.createElement(on,{title:"Game state",x:10,y:10}))};On.defaultProps={hide:!1};var wn=On,jn=function(e){var t=e.onClick,n=e.children,a=e.className,i=e.forceTheme,r=e.x,s=e.y,o=e.zIndex,c=e.draggable,u=["debug-button","game-debug-toggle-button"],l=le.theme;a&&u.push.apply(u,Object(Ne.a)(a.split(" ")));var h=de(i);h&&u.push(h);var d=n?"function"===typeof n?n(l):n:null,f=w.a.createElement("button",Object.assign({},t?{onClick:t}:{},{style:Object(me.a)({left:r,top:s,zIndex:o},r||s?{position:"fixed"}:{}),className:u.join(" ")}),d);return void 0!==c&&c?w.a.createElement(nn.a,null,f):f};jn.defaultProps={draggable:!1};var kn=Object(fe.a)(jn),Sn=n(576),En=n.n(Sn);function xn(){var e=Object(wt.a)(["\n  background: url(",") no-repeat;\n  height: 50px;\n  width: 50px;\n"]);return xn=function(){return e},e}var Cn=jt.a.i(xn(),En.a),Tn=Object(fe.a)(function(){var e=le.debug,t=le.toggleDebug,n=le.hideDebug;return he([{keys:[mn.Key.Escape],action:n},{keys:["D"],action:t}]),O.createElement(kn,{onClick:t,forceTheme:o.Light},e?O.createElement("i",{className:"icon close"}):O.createElement(Cn,null))}),Pn=Object(fe.a)(function(){var e=le.toggleTheme,t=le.otherThemeName;return O.createElement(kn,{onClick:e},t[0])});function Dn(){var e=Object(wt.a)(["\n  display: flex;\n  -webkit-font-smoothing: antialiased;\n  justify-content: space-evenly;\n  width: 40px;\n  height: 40px;\n  transform: ",";\n  & .bar {\n    position: relative;\n    width: ",";\n    height: 100%;\n    background: ",";\n    &:first-of-type {\n      margin-right: 0.6rem;\n    }\n  }\n"]);return Dn=function(){return e},e}var An=jt.a.div(Dn(),function(e){switch(e.size){case"small":return"scale(0.6)";case"medium":return"scale(0.7)";case"large":return"scale(0.8)"}return"scale(0.8)"},function(e){switch(e.size){case"small":return"4px";case"medium":return"8px";case"large":return"12px"}return"8px"},function(e){return e.color}),Mn=function(e){var t=e.color;return w.a.createElement(An,Object.assign({},e,{className:"pause-icon",style:{color:t}}),w.a.createElement("div",{className:"bar"}),w.a.createElement("div",{className:"bar"}))};Mn.defaultProps={color:"white",size:"large"};var Rn=Mn;function Ln(){var e=Object(wt.a)(["\n  width: 40px;\n  height: 40px;\n  position: relative;\n  left: 6px;\n  border-style: solid;\n  border-width: 20px 0 20px 30px;\n  transform: ",";\n  border-color: transparent transparent transparent ",";\n"]);return Ln=function(){return e},e}var zn=jt.a.div(Ln(),function(e){switch(e.size){case"small":return"scale(0.6)";case"medium":return"scale(0.7)";case"large":return"scale(0.8)"}return"scale(1)"},function(e){return e.color}),In=function(e){var t=e.color;return w.a.createElement(zn,Object.assign({},e,{className:"play-icon",style:{color:t}}))};In.defaultProps={color:"white",size:"large"};var Nn=In,Gn=Object(fe.a)(function(){var e=yt.paused,t=bt.togglePause;return he([{keys:["P"],action:t}]),O.createElement(kn,{onClick:t},function(t){return!e&&O.createElement(Rn,{color:t===o.Light?"black":"white"})||e&&O.createElement(Nn,{color:t===o.Light?"black":"white"})})}),Bn=Object(fe.a)(function(){var e=le.toggleDebugToolbar,t=le.debugToolbar;return he([{keys:["K"],action:e}]),t?O.createElement("div",{className:"game-debug-buttons-toolbar"},O.createElement(Gn,null),O.createElement(Pn,null),O.createElement(Tn,null)):null}),_n=Object(fe.a)(function(){var e=function(){var e=Object(O.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(x.a)(e,2),n=t[0],a=t[1];return Object(O.useEffect)(function(){var e=function(){return a({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[window.innerWidth,window.innerHeight]),n}(),t=e.width,n=e.height,a=le.debug,i=yt.paused,r=yt.started;return bt.game.canvas&&(bt.game.canvas.style.transition="all 0.15s",bt.game.resize(t,n),bt.resizeCamera(t,n),bt.game.canvas.style.filter=i?"blur(20px) grayscale(80%)":null,bt.game.canvas.style.transform=i?"scale(1.2)":null),O.createElement("div",{id:"game",className:"game"},r&&O.createElement(Bn,null),r&&O.createElement(wn,{hide:a}),r&&O.createElement(en,null))});function Fn(){var e=Object(wt.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  background: ",";\n"]);return Fn=function(){return e},e}var Hn=jt.a.div(Fn(),"#ffffff",st),Wn=Object(fe.a)(function(e){var t=yt.loading,n=e.onLaunchGame;return O.createElement(Hn,null,O.createElement("h1",null,"Harder, Faster, Looser"),O.createElement("button",{disabled:t,onClick:n},"Launch game"))}),Jn=Object(fe.a)(function(){var e=yt.started,t=Object(O.useCallback)(Object(E.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.body.requestFullscreen();case 2:return e.next=4,Pe(50);case 4:bt.startGame();case 5:case"end":return e.stop()}},e,this)})),[]);return O.createElement("div",{className:"App"},!e&&O.createElement(Wn,{onLaunchGame:t}),O.createElement(_n,null))}),Kn=(n(1426),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Un(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}j.render(O.createElement(Jn,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/harder-faster-looser",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/harder-faster-looser","/service-worker.js");Kn?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Un(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Un(e)})}}()},573:function(e,t,n){e.exports=n.p+"static/media/life_1_285_270.4dfc78f2.png"},574:function(e,t,n){e.exports=n.p+"static/media/life_2_285_270.26bad4f0.png"},575:function(e,t,n){e.exports=n.p+"static/media/life_3_285_270.3365a732.png"},576:function(e,t,n){e.exports=n.p+"static/media/debug.2896fca5.png"},580:function(e,t,n){e.exports=n(1430)}},[[580,2,1]]]);
//# sourceMappingURL=main.ce7841f3.chunk.js.map